{"ast":null,"code":"var _jsxFileName = \"/Users/jamesupchurch/Documents/projects/tower/client/src/components/app/Security/Login.js\";\nimport { React, Component } from 'react';\nimport Axios from 'axios';\nimport NavBar from '../navBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAuthenticated: false,\n      id_User: null,\n      name: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.OnSubmit = this.OnSubmit.bind(this);\n  }\n\n  Authenticate(url) {\n    let user;\n    Axios.get(url).then(res => {\n      user = res.data._id;\n    });\n    console.log(user);\n    console.log(typeof user._id);\n    return user._id;\n  }\n\n  OnSubmit(event) {\n    var url = 'http://localhost:8000';\n    var endpoint = '/User/' + this.state.name;\n    let idUser = this.Authenticate(url + endpoint);\n    console.log('id user: ' + idUser);\n    this.setState({\n      isAuthenticated: idUser !== undefined && idUser !== null,\n      id_User: idUser\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      name: event.target.value\n    });\n  }\n\n  render() {\n    console.log(this.state);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.isAuthenticated ? /*#__PURE__*/_jsxDEV(NavBar, {\n        idUser: this.state.id_User\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 52\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Login\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.OnSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: this.state.name,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/jamesupchurch/Documents/projects/tower/client/src/components/app/Security/Login.js"],"names":["React","Component","Axios","NavBar","Login","constructor","props","state","isAuthenticated","id_User","name","handleChange","bind","OnSubmit","Authenticate","url","user","get","then","res","data","_id","console","log","event","endpoint","idUser","setState","undefined","target","value","render"],"mappings":";AAAA,SAASA,KAAT,EAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;;AAGA,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;AAC1BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,eAAe,EAAE,KADR;AAETC,MAAAA,OAAO,EAAE,IAFA;AAGTC,MAAAA,IAAI,EAAE;AAHG,KAAb;AAMA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAEDE,EAAAA,YAAY,CAACC,GAAD,EAAM;AACd,QAAIC,IAAJ;AAEAd,IAAAA,KAAK,CAACe,GAAN,CAAUF,GAAV,EACKG,IADL,CACUC,GAAG,IAAI;AAAEH,MAAAA,IAAI,GAAGG,GAAG,CAACC,IAAJ,CAASC,GAAhB;AAAsB,KADzC;AAGAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AAEAM,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAOP,IAAI,CAACK,GAAxB;AAEA,WAAOL,IAAI,CAACK,GAAZ;AACH;;AAEDR,EAAAA,QAAQ,CAACW,KAAD,EAAQ;AACZ,QAAIT,GAAG,GAAG,uBAAV;AACA,QAAIU,QAAQ,GAAG,WAAW,KAAKlB,KAAL,CAAWG,IAArC;AAEA,QAAIgB,MAAM,GAAG,KAAKZ,YAAL,CAAkBC,GAAG,GAAGU,QAAxB,CAAb;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAcG,MAA1B;AACA,SAAKC,QAAL,CAAc;AAAEnB,MAAAA,eAAe,EAAGkB,MAAM,KAAKE,SAAX,IAAwBF,MAAM,KAAK,IAAvD;AAA8DjB,MAAAA,OAAO,EAAEiB;AAAvE,KAAd;AACH;;AAEDf,EAAAA,YAAY,CAACa,KAAD,EAAQ;AAChB,SAAKG,QAAL,CAAc;AAAEjB,MAAAA,IAAI,EAAEc,KAAK,CAACK,MAAN,CAAaC;AAArB,KAAd;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACLT,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAjB;AACA,wBACI;AAAA,gBACO,KAAKA,KAAL,CAAWC,eAAZ,gBAAiC,QAAC,MAAD;AAAQ,QAAA,MAAM,EAAE,KAAKD,KAAL,CAAWE;AAA3B;AAAA;AAAA;AAAA;AAAA,cAAjC,gBAEM;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA,+BACI;AAAM,UAAA,QAAQ,EAAE,KAAKI,QAArB;AAAA,kCACI;AAAA,6CACI;AAAO,cAAA,IAAI,EAAC,MAAZ;AAAmB,cAAA,KAAK,EAAE,KAAKN,KAAL,CAAWG,IAArC;AAA2C,cAAA,QAAQ,EAAE,KAAKC;AAA1D;AAAA;AAAA;AAAA;AAAA,oBADJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII;AAAO,YAAA,IAAI,EAAC,QAAZ;AAAqB,YAAA,KAAK,EAAC;AAA3B;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAHZ;AAAA;AAAA;AAAA;AAAA,YADJ;AAgBH;;AA1DyB;;AA6D9B,eAAeP,KAAf","sourcesContent":["import { React, Component } from 'react'\nimport Axios from 'axios'\nimport NavBar from '../navBar'\n\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isAuthenticated: false,\n            id_User: null,\n            name: ''\n        }\n\n        this.handleChange = this.handleChange.bind(this);\n        this.OnSubmit = this.OnSubmit.bind(this);\n    }\n\n    Authenticate(url) {\n        let user;\n\n        Axios.get(url)\n            .then(res => { user = res.data._id; } );\n        \n        console.log(user);\n\n        console.log(typeof(user._id))\n\n        return user._id;\n    }\n\n    OnSubmit(event) {\n        var url = 'http://localhost:8000';\n        var endpoint = '/User/' + this.state.name\n\n        let idUser = this.Authenticate(url + endpoint)\n        console.log('id user: ' + idUser);\n        this.setState({ isAuthenticated: (idUser !== undefined && idUser !== null), id_User: idUser });\n    }\n\n    handleChange(event) {\n        this.setState({ name: event.target.value });\n    }\n\n    render() {\n        console.log(this.state);\n        return (\n            <div>\n                { (this.state.isAuthenticated) ? ( <NavBar idUser={this.state.id_User} /> ) :\n                    (\n                        <div className=\"Login\">\n                            <form onSubmit={this.OnSubmit}>\n                                <label>Name:\n                                    <input type=\"text\" value={this.state.name} onChange={this.handleChange} />\n                                </label>\n                                <input type=\"submit\" value=\"Submit\" />\n                            </form>\n                        </div>\n                    )\n                }\n            </div>\n        );\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}